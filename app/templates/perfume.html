{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/perfume.css' %}">
<section id="main">
  <div id="perfume-page-container">
    <span class="main-spans">PERFUME</span>
    <div id="image-and-info-container" class="d-flex justify-content-around">
      <div class="card" style="width: 25rem">
        {% if perfume.image %}
        <img src="{{ perfume.image.url }}" alt="perfume-image" />
        {% else %}
        ì´ë¯¸ì§€ ì¤€ë¹„ ì¤‘
        {% endif %}
        <div class="card-body">
          <p class="card-text">
            {{ perfume.country }}
          </p>
        </div>
      </div>
      <div id="perfume-info" class="">
        <span id="perfume-title">{{ perfume.name }}</span><br>
        <span id="perfume-subtitle">{{ perfume.brand}}</span>
        <div id="perfume-detail">
          <div class="alert alert-primary" role="alert">
            {{ perfume.season }}
            /
            {{ perfume.flavor }}
          </div>
          <div class="alert alert-primary" role="alert">
            {{ perfume.gender }}
            /
            {{ perfume.age }}ëŒ€ ë¶„ë“¤ê»˜ ì¶”ì²œí•©ë‹ˆë‹¤ ğŸ‘¾
          </div>
          <div class="alert alert-primary" role="alert">
            ì–´ìš¸ë¦¬ëŠ” ìƒí™©ì€?
            {{ perfume.situation }}
            ğŸ˜
          </div>
          <div class="alert alert-primary" role="alert">
            {{ perfume.explain }}
          </div>
        </div>
      </div>
    </div>
    <span class="main-spans">RECOMMENDATION</span>
    <div id="recommendation-container">
      <ul id="recommendation-image-container" class="d-flex justify-content-around">
        <li>
          <img src="{% static 'img/fleur-de-peau.png'%}" alt="fleur-de-peau" class="recommendation-image" />
        </li>
        <li>
          <img src="{% static 'img/hwyl.jpg'%}" alt="fleur-de-peau" class="recommendation-image" />
        </li>
        <li>
          <img src="{% static 'img/fleur-de-peau.png'%}" alt="fleur-de-peau" class="recommendation-image" />
        </li>
        <li>
          <img src="{% static 'img/fleur-de-peau.png'%}" alt="fleur-de-peau" class="recommendation-image" />
        </li>
        <li>
          <img src="{% static 'img/fleur-de-peau.png'%}" alt="fleur-de-peau" class="recommendation-image" />
        </li>
      </ul>
    </div>
    <span class="main-spans">REVIEWS</span>

    <!-- ë¦¬ë·°ì“°ê¸° -->
    <div id="reviews-container">
      <div class="well well-sm">
        <div class="row" id="post-review-box">
          <div class="col-md-12">
            <form accept-charset="UTF-8" action="{% url 'new_review' perfume.pk  %}" method="post">
              {% csrf_token %}

              <!-- ì„ íƒ í•­ëª© -->
              <div class="btn-group" style="display:inline;">
                <button type="button" class="btn btn-success dropdown-toggle" data-bs-toggle="dropdown"
                  aria-expanded="false">
                  íƒ€ì…
                </button>
                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item"><input type="checkbox" name="type_list" value="ë‹¬ì½¤í•œ">
                      ë‹¬ì½¤í•œ</a>
                  </li>
                  <li>
                    <a class="dropdown-item"><input type="checkbox" name="type_list" value="ë¹„ëˆ„í–¥ì˜">
                      ë¹„ëˆ„í–¥ì˜</a>
                  </li>
                  <li>
                    <a class="dropdown-item"><input type="checkbox" name="type_list" value="ì‹ ì„ í•œ">
                      ì‹ ì„ í•œ</a>
                  </li>
                  <li>
                    <a class="dropdown-item"><input type="checkbox" name="type_list" value="ë¬´ê±°ìš´">
                      ë¬´ê±°ìš´</a>
                  </li>
                  <li>
                    <a class="dropdown-item"><input type="checkbox" name="type_list" value="í†¡ì˜ëŠ”">
                      í†¡ ì˜ëŠ”</a>
                  </li>
                  <li>
                    <hr class="dropdown-divider">
                  </li>
                  <li>
                    <a class="dropdown-item">í‘œí˜„ ì¶”ê°€í•˜ê¸°<br>
                      ( ë„ì–´ì“°ê¸°ë¡œ ë‹¨ì–´ë¥¼ êµ¬ë¶„í•´ì£¼ì„¸ìš” ! ) <br>
                      ex. ì‚°ëœ»í•œ ê°•ë ¬í•œ ë§¤ë ¥ì ì¸ <br>
                      <input type="text" name="extra_explain"></a>
                  </li>
                </ul>
              </div>

              <div class="btn-group" style="display:inline;">
                <button type="button" class="btn btn-success dropdown-toggle" data-bs-toggle="dropdown"
                  aria-expanded="false">
                  ì§€ì†ë ¥
                </button>

                <!-- í•˜ë‚˜ë§Œ ì„ íƒí•˜ê²Œ ë§Œë“œëŠ” í•¨ìˆ˜ -->
                <script>function OneCheck(chk) {
                    var obj = document.getElementsByName("power");
                    var num = 0;
                    for (var i = 0; i < obj.length; i++) {
                      if (obj[i] != chk) {
                        obj[i].checked = false;
                      }
                    }
                    for (var i = 0; i < obj.length; i++) {
                      if (obj[i].checked) {
                        num++;
                      }
                    }
                    if (!num) {
                      alert('ì§€ì†ë ¥ì„ í•œ ê°œ ì„ íƒí•˜ì„¸ìš”');
                      return false;
                    }
                  }</script>


                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item"><input type="checkbox" name="power" value="good"
                        onclick="OneCheck(this);">ì¢‹ì•„ìš”</a>
                  </li>
                  <li>
                    <a class="dropdown-item"><input type="checkbox" name="power" value="moderate"
                        onclick="OneCheck(this);">ì ë‹¹í•´ìš”</a>
                  </li>
                  <li>
                    <a class="dropdown-item"><input type="checkbox" name="power" value="bad"
                        onclick="OneCheck(this);">ë³„ë¡œì˜ˆìš”</a>
                  </li>
                </ul>
              </div>

              <br><br>
              <span class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">ì‹œí–¥</span>
                <input type="text" class="form-control" aria-label="Sizing example input"
                  aria-describedby="inputGroup-sizing-default" name="first_scent">
              </span>

              <span class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">ì°©í–¥</span>
                <input type="text" class="form-control" aria-label="Sizing example input"
                  aria-describedby="inputGroup-sizing-default" name="put_scent">
              </span>

              <span class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">ì”í–¥</span>
                <input type="text" class="form-control" aria-label="Sizing example input"
                  aria-describedby="inputGroup-sizing-default" name="rest_scent">
              </span>

              <span class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">ììœ ë¡œìš´ ì„¤ëª…</span>
                <input type="text" class="form-control" aria-label="Sizing example input"
                  aria-describedby="inputGroup-sizing-default" name="content">
              </span>
              <input id="ratings-hidden" name="rating" type="hidden">
              <div class="text-right">
                <br>
                <button class="btn btn-success btn-lg" type="submit">Save</button>
              </div>
            </form>
          </div>
        </div>
      </div>
      <hr>

      <!-- ë¦¬ë·° ëª©ë¡ -->

      {% for review in perfume.review_set.all %}
      {{ review.date }}<br>
      {{ review.user }}ë‹˜ <br>
      ì§€ì†ë ¥: {{ review.power }}<br>
      íƒ€ì…: {{ review.type_explain }} <br>
      ì‹œí–¥: {{ review.first_scent }} <br>
      ì°©í–¥: {{ review.put_scent }}<br>
      ì”í–¥: {{ review.rest_scent }}<br>
      ì½”ë©˜íŠ¸: {{ review.content }}
      <hr>

      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}